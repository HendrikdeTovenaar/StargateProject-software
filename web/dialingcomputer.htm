<html>
    <head>
        <!-- Chevrons from Manz: https://codepen.io/manz/pen/zoREJL -->
        <meta charset="UTF-8"> 
        <title>Stargate Command</title>
        <link rel="stylesheet" href="main.css" />
    </head>
    <body>
        <div id="presets">
        </div>

       
    	<div class="controls">
        	<div class="control" onclick="window.location = 'index.htm';">
                Dialing page
            </div>
        </div>

        <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <!--<script type="text/javascript" src="jquery-3.3.1.min.js"></script>-->
        <script type="text/javascript">
            
        $.ajax({
            dataType: "json",
            url: "/stargate/get",
            data: {
                entity: "standard_gates"
            },
            success: function( json ) {
                console.log( "JSON Data: " + json );
                addresses = json
                load_address_book()
            }
            
        });

        
        function load_address_book(){
            $.each(addresses, function( index, value ) {
                address_raw = value.gate_address
                address_string = address_raw.join("-");
                $.each(address_raw, function( index, value) {
                    value=("000" + value).substr(-3,3);
                    address_raw[index] = '<img src="chevrons/'+value+'.svg" />';
                });
                address = address_raw.join("");

                $("#presets").append('<div class="presetAddress" onclick="window.location = \'index.htm?address=' + address_string + '\';"><div class="name">' + value.name + '</div><div class="glyphs">' + address +  '</div></div>' );
            });
        }
        </script>
    </body>
</html>
